<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üå∏ –†–∞—Å—Ü–≤–µ—Ç–∞–π - –ú–∞–≥–∞–∑–∏–Ω —Ü–≤–µ—Ç–æ–≤</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: Arial, sans-serif; background: #f9f0ff; padding: 20px; }
        
        .container {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .header {
            background: linear-gradient(90deg, #ff6b6b, #ff8e8e);
            color: white;
            padding: 25px;
            text-align: center;
        }
        
        .header h1 { font-size: 24px; margin-bottom: 5px; }
        .header p { opacity: 0.9; }
        
        .catalog-section { padding: 20px; }
        .order-form { padding: 20px; display: none; }
        
        .flower-card {
            background: white;
            border-radius: 15px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.08);
            border: 2px solid #ff6b6b;
        }
        
        .flower-name { 
            font-size: 18px; 
            font-weight: bold; 
            color: #333; 
            margin-bottom: 5px; 
        }
        
        .flower-desc { 
            color: #666; 
            font-size: 14px; 
            margin-bottom: 10px; 
        }
        
        .flower-price { 
            color: #ff6b6b; 
            font-size: 20px; 
            font-weight: bold; 
            margin-bottom: 10px; 
        }
        
        .select-btn {
            background: #ff6b6b;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
        }
        
        .back-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 20px;
            cursor: pointer;
            width: 100%;
        }
        
        .form-group { margin-bottom: 15px; }
        
        label {
            display: block;
            font-weight: bold;
            margin-bottom: 5px;
            color: #333;
        }
        
        input, textarea {
            width: 100%;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 10px;
            font-size: 16px;
        }
        
        .submit-btn {
            background: linear-gradient(90deg, #ff6b6b, #ff8e8e);
            color: white;
            border: none;
            padding: 15px;
            border-radius: 10px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            width: 100%;
            margin-top: 10px;
        }
        
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            background: #4CAF50;
            color: white;
            padding: 15px 20px;
            border-radius: 10px;
            font-weight: bold;
            z-index: 1000;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- –®–∞–ø–∫–∞ -->
        <div class="header">
            <h1>üå∏ –†–∞—Å—Ü–≤–µ—Ç–∞–π</h1>
            <p>–î–æ—Å—Ç–∞–≤–∫–∞ —Å–≤–µ–∂–∏—Ö –±—É–∫–µ—Ç–æ–≤</p>
        </div>
        
        <!-- –ö–∞—Ç–∞–ª–æ–≥ -->
        <section id="catalog" class="catalog-section">
            <h2 style="margin-bottom: 15px;">–í—ã–±–µ—Ä–∏—Ç–µ –±—É–∫–µ—Ç:</h2>
            <div id="flowersGrid"></div>
        </section>
        
        <!-- –§–æ—Ä–º–∞ –∑–∞–∫–∞–∑–∞ -->
        <section id="orderForm" class="order-form">
            <button class="back-btn" onclick="showCatalog()">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–∞–ª–æ–≥—É</button>
            
            <h2 style="margin-bottom: 15px;">–í–∞—à –∑–∞–∫–∞–∑:</h2>
            <div style="background: #f0f8ff; padding: 15px; border-radius: 10px; margin-bottom: 20px;">
                <p><strong id="selectedProduct">–ë—É–∫–µ—Ç –Ω–µ –≤—ã–±—Ä–∞–Ω</strong></p>
                <p style="color: #ff6b6b; font-size: 24px; font-weight: bold;" id="selectedPrice">0 ‚ÇΩ</p>
            </div>
            
            <div class="form-group">
                <label>üë§ –í–∞—à–µ –∏–º—è *</label>
                <input type="text" id="name" placeholder="–ê–Ω–Ω–∞ –ü–µ—Ç—Ä–æ–≤–∞" required>
            </div>
            
            <div class="form-group">
                <label>üì± –¢–µ–ª–µ—Ñ–æ–Ω *</label>
                <input type="tel" id="phone" placeholder="+7 (999) 123-45-67" required>
            </div>
            
            <div class="form-group">
                <label>üè† –ê–¥—Ä–µ—Å –¥–æ—Å—Ç–∞–≤–∫–∏ *</label>
                <input type="text" id="address" placeholder="—É–ª. –¶–≤–µ—Ç–æ—á–Ω–∞—è, –¥. 1" required>
            </div>
            
            <div class="form-group">
                <label>üí¨ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                <textarea id="comment" rows="3" placeholder="–ü–æ–∂–µ–ª–∞–Ω–∏—è –∫ –∑–∞–∫–∞–∑—É..."></textarea>
            </div>
            
            <button class="submit-btn" onclick="submitOrder()" id="submitBtn">
                üéâ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑
            </button>
            
            <p style="text-align: center; margin-top: 15px; color: #666; font-size: 14px;">
                –û–ø–ª–∞—Ç–∞ –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏
            </p>
        </section>
    </div>

    <script>
        // ==== –ü–†–û–°–¢–û–ô –†–ê–ë–û–ß–ò–ô –ö–û–î ====
        
        // –ö–∞—Ç–∞–ª–æ–≥ –±—É–∫–µ—Ç–æ–≤
        const bouquets = [
            { id: 1, name: '–†–æ–∑–æ–≤–∞—è –Ω–µ–∂–Ω–æ—Å—Ç—å', price: 2500, desc: '25 —Ä–æ–∑–æ–≤—ã—Ö —Ä–æ–∑', emoji: 'üåπ' },
            { id: 2, name: '–õ–µ—Ç–Ω–∏–π –±—Ä–∏–∑', price: 1800, desc: '–ü–æ–ª–µ–≤—ã–µ —Ü–≤–µ—Ç—ã', emoji: 'üåº' },
            { id: 3, name: '–ö–æ—Ä–æ–ª–µ–≤—Å–∫–∏–π –±—É–∫–µ—Ç', price: 3500, desc: '–û—Ä—Ö–∏–¥–µ–∏ –∏ –ª–∏–ª–∏–∏', emoji: 'üëë' },
            { id: 4, name: '–ú–∏–Ω–∏–º–∞–ª–∏–∑–º', price: 1200, desc: '–ë–µ–ª—ã–µ —ç—É—Å—Ç–æ–º—ã', emoji: 'üíê' }
        ];
        
        let selectedBouquet = null;
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞
        function loadCatalog() {
            const grid = document.getElementById('flowersGrid');
            grid.innerHTML = '';
            
            bouquets.forEach(flower => {
                const card = document.createElement('div');
                card.className = 'flower-card';
                card.innerHTML = `
                    <div style="font-size: 40px; text-align: center; margin-bottom: 10px;">${flower.emoji}</div>
                    <div class="flower-name">${flower.name}</div>
                    <div class="flower-desc">${flower.desc}</div>
                    <div class="flower-price">${flower.price} ‚ÇΩ</div>
                    <button class="select-btn" onclick="selectBouquet(${flower.id})">–í—ã–±—Ä–∞—Ç—å</button>
                `;
                grid.appendChild(card);
            });
        }
        
        // –í—ã–±–æ—Ä –±—É–∫–µ—Ç–∞
        function selectBouquet(id) {
            selectedBouquet = bouquets.find(b => b.id === id);
            
            document.getElementById('selectedProduct').textContent = selectedBouquet.name;
            document.getElementById('selectedPrice').textContent = selectedBouquet.price + ' ‚ÇΩ';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ñ–æ—Ä–º—É, —Å–∫—Ä—ã–≤–∞–µ–º –∫–∞—Ç–∞–ª–æ–≥
            document.getElementById('catalog').style.display = 'none';
            document.getElementById('orderForm').style.display = 'block';
        }
        
        // –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–∞–ª–æ–≥—É
        function showCatalog() {
            document.getElementById('orderForm').style.display = 'none';
            document.getElementById('catalog').style.display = 'block';
        }
        
        // –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–∫–∞–∑–∞ - –û–ë–ù–û–í–ò–¢–ï –≠–¢–£ –°–°–´–õ–ö–£!
        async function submitOrder() {
            if (!selectedBouquet) {
                alert('–°–Ω–∞—á–∞–ª–∞ –≤—ã–±–µ—Ä–∏—Ç–µ –±—É–∫–µ—Ç!');
                return;
            }
            
            const name = document.getElementById('name').value;
            const phone = document.getElementById('phone').value;
            const address = document.getElementById('address').value;
            const comment = document.getElementById('comment').value;
            
            if (!name || !phone || !address) {
                alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è!');
                return;
            }
            
            // –§–æ—Ä–º–∏—Ä—É–µ–º –¥–∞–Ω–Ω—ã–µ –∑–∞–∫–∞–∑–∞
            const orderData = {
                bouquet: selectedBouquet.name,
                price: selectedBouquet.price,
                name: name,
                phone: phone,
                address: address,
                comment: comment,
                date: new Date().toLocaleString()
            };
            
            // ‚ö†Ô∏è –í–ê–ñ–ù–û: –ó–ê–ú–ï–ù–ò–¢–ï –≠–¢–£ –°–°–´–õ–ö–£ –ù–ê –°–í–û–Æ!
            const API_URL = 'https://–≤–∞—à-—Å–µ—Ä–≤–µ—Ä.com/api/order';
            
            const btn = document.getElementById('submitBtn');
            btn.disabled = true;
            btn.innerHTML = '‚è≥ –û—Ç–ø—Ä–∞–≤–ª—è–µ–º...';
            
            try {
                // –û—Ç–ø—Ä–∞–≤–ª—è–µ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä (—ç—Ç–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ!)
                const response = await fetch(API_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(orderData)
                });
                
                const result = await response.json();
                
                if (result.success) {
                    showNotification('‚úÖ –ó–∞–∫–∞–∑ –æ—Ñ–æ—Ä–º–ª–µ–Ω! –ú—ã —Å–∫–æ—Ä–æ —Å–≤—è–∂–µ–º—Å—è.');
                    
                    // –û—á–∏—â–∞–µ–º —Ñ–æ—Ä–º—É
                    setTimeout(() => {
                        document.getElementById('name').value = '';
                        document.getElementById('phone').value = '';
                        document.getElementById('address').value = '';
                        document.getElementById('comment').value = '';
                        showCatalog();
                    }, 2000);
                } else {
                    throw new Error(result.error);
                }
                
            } catch (error) {
                showNotification('‚ùå –û—à–∏–±–∫–∞: ' + error.message);
            } finally {
                btn.disabled = false;
                btn.innerHTML = 'üéâ –û—Ñ–æ—Ä–º–∏—Ç—å –∑–∞–∫–∞–∑';
            }
        }
        
        // –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
        function showNotification(message) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => notification.remove(), 3000);
        }
        
        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ç–∞–ª–æ–≥ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ
        window.onload = loadCatalog;
    </script>
</body>
</html>
